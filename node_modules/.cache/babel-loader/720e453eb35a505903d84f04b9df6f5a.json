{"ast":null,"code":"import { put, call } from 'redux-saga/effects';\nimport axios from 'axios';\nimport actions from './actions';\n\nfunction* loginSubmit({\n  payload\n}) {\n  const apiCall = () => {\n    return axios.post(`https://dev-dexter.retaildata.xyz/api/auth/token`, {\n      username: payload.username,\n      password: payload.password\n    }).then(res => res.data.access).catch(err => {\n      throw err;\n    });\n  };\n\n  try {\n    const token = yield call(apiCall);\n    yield put(actions.loginSuccess(token));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport { loginSubmit };","map":{"version":3,"sources":["/home/zoha/Documents/IM/react-redux-saga-starter/src/Auth/queries.js"],"names":["put","call","axios","actions","loginSubmit","payload","apiCall","post","username","password","then","res","data","access","catch","err","token","loginSuccess","error","console","log"],"mappings":"AACA,SAASA,GAAT,EAAcC,IAAd,QAA0B,oBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,UAAUC,WAAV,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAmC;AAC/B,QAAMC,OAAO,GAAG,MAAM;AAClB,WAAOJ,KAAK,CACPK,IADE,CACI,kDADJ,EACuD;AACtDC,MAAAA,QAAQ,EAAEH,OAAO,CAACG,QADoC;AAEtDC,MAAAA,QAAQ,EAAEJ,OAAO,CAACI;AAFoC,KADvD,EAIAC,IAJA,CAIKC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASC,MAJrB,EAKFC,KALE,CAKIC,GAAG,IAAI;AACV,YAAMA,GAAN;AACH,KAPE,CAAP;AAQH,GATD;;AAWA,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMf,IAAI,CAACK,OAAD,CAAxB;AACA,UAAMN,GAAG,CAACG,OAAO,CAACc,YAAR,CAAqBD,KAArB,CAAD,CAAT;AACH,GAHD,CAGE,OAAOE,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ;;AAED,SAASd,WAAT","sourcesContent":["\nimport { put, call } from 'redux-saga/effects';\nimport axios from 'axios';\n\nimport actions from './actions';\n\nfunction* loginSubmit({ payload }) {\n    const apiCall = () => {\n        return axios\n            .post(`https://dev-dexter.retaildata.xyz/api/auth/token`, {\n                username: payload.username,\n                password: payload.password\n            }).then(res => res.data.access)\n            .catch(err => {\n                throw err;\n            });\n    }\n\n    try {\n        const token = yield call(apiCall);\n        yield put(actions.loginSuccess(token))\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport { loginSubmit };\n"]},"metadata":{},"sourceType":"module"}